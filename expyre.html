

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>expyre package &#8212; ExPyRe  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'expyre';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="expyre.cli package" href="expyre.cli.html" />
    <link rel="prev" title="Unit testing" href="unit_testing.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">ExPyRe  documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="basic_use.html">Basic use</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Scheduler Configuration file</a></li>
<li class="toctree-l1"><a class="reference internal" href="restarting.html">Restarting an interrupted process</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_line.html">Command line utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="unit_testing.html">Unit testing</a></li>
<li class="toctree-l1 current active has-children"><a class="current reference internal" href="#">expyre package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="expyre.cli.html">expyre.cli package</a></li>
<li class="toctree-l2"><a class="reference internal" href="expyre.schedulers.html">expyre.schedulers package</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/expyre.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>expyre package</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#subpackages">Subpackages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre-config-module">expyre.config module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre-func-module">expyre.func module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-expyre.jobsdb">expyre.jobsdb module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB"><code class="docutils literal notranslate"><span class="pre">JobsDB</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.add"><code class="docutils literal notranslate"><span class="pre">JobsDB.add()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.jobs"><code class="docutils literal notranslate"><span class="pre">JobsDB.jobs()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.possible_status"><code class="docutils literal notranslate"><span class="pre">JobsDB.possible_status</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.remove"><code class="docutils literal notranslate"><span class="pre">JobsDB.remove()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.status_group"><code class="docutils literal notranslate"><span class="pre">JobsDB.status_group</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.unlock"><code class="docutils literal notranslate"><span class="pre">JobsDB.unlock()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.update"><code class="docutils literal notranslate"><span class="pre">JobsDB.update()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre-resources-module">expyre.resources module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-expyre.subprocess">expyre.subprocess module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.subprocess.FailedSubprocessWarning"><code class="docutils literal notranslate"><span class="pre">FailedSubprocessWarning</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.subprocess.subprocess_copy"><code class="docutils literal notranslate"><span class="pre">subprocess_copy()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.subprocess.subprocess_run"><code class="docutils literal notranslate"><span class="pre">subprocess_run()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-expyre.system">expyre.system module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System"><code class="docutils literal notranslate"><span class="pre">System</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System.clean_rundir"><code class="docutils literal notranslate"><span class="pre">System.clean_rundir()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System.get_remotes"><code class="docutils literal notranslate"><span class="pre">System.get_remotes()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System.initialize_remote_rundir"><code class="docutils literal notranslate"><span class="pre">System.initialize_remote_rundir()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System.run"><code class="docutils literal notranslate"><span class="pre">System.run()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System.submit"><code class="docutils literal notranslate"><span class="pre">System.submit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-expyre.units">expyre.units module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.units.mem_to_kB"><code class="docutils literal notranslate"><span class="pre">mem_to_kB()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.units.time_to_HMS"><code class="docutils literal notranslate"><span class="pre">time_to_HMS()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.units.time_to_sec"><code class="docutils literal notranslate"><span class="pre">time_to_sec()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-expyre.util">expyre.util module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.util.remsh_cmd"><code class="docutils literal notranslate"><span class="pre">remsh_cmd()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-contents">Module contents</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="section" id="expyre-package">
<h1>expyre package<a class="headerlink" href="#expyre-package" title="Permalink to this heading">#</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">#</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="expyre.cli.html">expyre.cli package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="expyre.cli.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="expyre.cli.html#expyre-cli-cli-module">expyre.cli.cli module</a></li>
<li class="toctree-l2"><a class="reference internal" href="expyre.cli.html#module-contents">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="expyre.schedulers.html">expyre.schedulers package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="expyre.schedulers.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="expyre.schedulers.html#module-expyre.schedulers.base">expyre.schedulers.base module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.base.Scheduler"><code class="docutils literal notranslate"><span class="pre">Scheduler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.base.Scheduler.cancel"><code class="docutils literal notranslate"><span class="pre">Scheduler.cancel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.base.Scheduler.hold"><code class="docutils literal notranslate"><span class="pre">Scheduler.hold()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.base.Scheduler.node_dict_env_var_commands"><code class="docutils literal notranslate"><span class="pre">Scheduler.node_dict_env_var_commands()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.base.Scheduler.release"><code class="docutils literal notranslate"><span class="pre">Scheduler.release()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.base.Scheduler.status"><code class="docutils literal notranslate"><span class="pre">Scheduler.status()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.base.Scheduler.submit"><code class="docutils literal notranslate"><span class="pre">Scheduler.submit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.base.Scheduler.unset_scheduler_env_vars"><code class="docutils literal notranslate"><span class="pre">Scheduler.unset_scheduler_env_vars()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="expyre.schedulers.html#module-expyre.schedulers.local">expyre.schedulers.local module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.local.Local"><code class="docutils literal notranslate"><span class="pre">Local</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="expyre.schedulers.html#module-expyre.schedulers.pbs">expyre.schedulers.pbs module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.pbs.PBS"><code class="docutils literal notranslate"><span class="pre">PBS</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.pbs.PBS.status"><code class="docutils literal notranslate"><span class="pre">PBS.status()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.pbs.PBS.submit"><code class="docutils literal notranslate"><span class="pre">PBS.submit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="expyre.schedulers.html#module-expyre.schedulers.sge">expyre.schedulers.sge module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.sge.SGE"><code class="docutils literal notranslate"><span class="pre">SGE</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.sge.SGE.status"><code class="docutils literal notranslate"><span class="pre">SGE.status()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.sge.SGE.submit"><code class="docutils literal notranslate"><span class="pre">SGE.submit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="expyre.schedulers.html#module-expyre.schedulers.slurm">expyre.schedulers.slurm module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.slurm.Slurm"><code class="docutils literal notranslate"><span class="pre">Slurm</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.slurm.Slurm.status"><code class="docutils literal notranslate"><span class="pre">Slurm.status()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.slurm.Slurm.submit"><code class="docutils literal notranslate"><span class="pre">Slurm.submit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="expyre.schedulers.html#module-expyre.schedulers">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">#</a></h2>
</div>
<div class="section" id="expyre-config-module">
<h2>expyre.config module<a class="headerlink" href="#expyre-config-module" title="Permalink to this heading">#</a></h2>
</div>
<div class="section" id="expyre-func-module">
<h2>expyre.func module<a class="headerlink" href="#expyre-func-module" title="Permalink to this heading">#</a></h2>
</div>
<div class="section" id="module-expyre.jobsdb">
<span id="expyre-jobsdb-module"></span><h2>expyre.jobsdb module<a class="headerlink" href="#module-expyre.jobsdb" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="expyre.jobsdb.JobsDB">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">expyre.jobsdb.</span></span><span class="sig-name descname"><span class="pre">JobsDB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/jobsdb.html#JobsDB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.jobsdb.JobsDB" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Database of jobs, currently implemented with sqlite.  Saves essential information
on jobs, including local and remote id, local directory it’s staged to, system
its been submitted to, and status.</p>
<dl class="simple">
<dt>Status: created - job has been created, but not yet submitted to run</dt><dd><p>submitted - job has been submitted to some queuing system
started - job has started running
succeeded - job has finished successfully, and results are available
failed - job has failed
died - job died without producing expected low level output
processed - job has been processed, and results no longer need to be saved
cleaned - job stage dir (local and remote) has been cleaned (large files overwritten or all files wiped)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="expyre.jobsdb.JobsDB.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'created'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/jobsdb.html#JobsDB.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.jobsdb.JobsDB.add" title="Permalink to this definition">#</a></dt>
<dd><p>Add a job to the DB</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>str</em>) – unique id for job (fails if id already exists)</p></li>
<li><p><strong>name</strong> (<em>str</em>) – name for job</p></li>
<li><p><strong>from_dir</strong> (<em>str/Path</em>) – path to directory job is to run from</p></li>
<li><p><strong>status</strong> (<em>str</em><em>, </em><em>default 'created'</em>) – status of job</p></li>
<li><p><strong>system</strong> (<em>str</em><em>, </em><em>optional</em>) – system job is running on</p></li>
<li><p><strong>remote_id</strong> (<em>str</em><em>, </em><em>optional</em>) – remote id on system</p></li>
<li><p><strong>remote_status</strong> (<em>str</em><em>, </em><em>optional</em>) – remote status on system</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="expyre.jobsdb.JobsDB.jobs">
<span class="sig-name descname"><span class="pre">jobs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/jobsdb.html#JobsDB.jobs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.jobsdb.JobsDB.jobs" title="Permalink to this definition">#</a></dt>
<dd><p>Iterate through jobs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>status</strong> (<em>str</em><em> or </em><em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>default None</em>) – if not None, only report on jobs that match any status</p></li>
<li><p><strong>id</strong> (<em>str</em><em> or </em><em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>default None</em>) – if present, include only jobs with id that match regexps in this list</p></li>
<li><p><strong>name</strong> (<em>str</em><em> or </em><em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>default None</em>) – if present, include only jobs with name that matches regexps in this list</p></li>
<li><p><strong>system</strong> (<em>str</em><em> or </em><em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>default None</em>) – if present, include only jobs with system in this list</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Iterator of dicts</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Iterator of dicts with fields for all DB columns for each job that matches selection criteria.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="expyre.jobsdb.JobsDB.possible_status">
<span class="sig-name descname"><span class="pre">possible_status</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['created',</span> <span class="pre">'submitted',</span> <span class="pre">'started',</span> <span class="pre">'succeeded',</span> <span class="pre">'failed',</span> <span class="pre">'died',</span> <span class="pre">'processed',</span> <span class="pre">'cleaned']</span></em><a class="headerlink" href="#expyre.jobsdb.JobsDB.possible_status" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="expyre.jobsdb.JobsDB.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/jobsdb.html#JobsDB.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.jobsdb.JobsDB.remove" title="Permalink to this definition">#</a></dt>
<dd><p>Remove a job from the DB</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>id</strong> (<em>str</em>) – unique id of job to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="expyre.jobsdb.JobsDB.status_group">
<span class="sig-name descname"><span class="pre">status_group</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'can_produce_results':</span> <span class="pre">['created',</span> <span class="pre">'submitted',</span> <span class="pre">'started',</span> <span class="pre">'succeeded',</span> <span class="pre">'died'],</span> <span class="pre">'ongoing':</span> <span class="pre">['created',</span> <span class="pre">'submitted',</span> <span class="pre">'started']}</span></em><a class="headerlink" href="#expyre.jobsdb.JobsDB.status_group" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="expyre.jobsdb.JobsDB.unlock">
<span class="sig-name descname"><span class="pre">unlock</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/jobsdb.html#JobsDB.unlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.jobsdb.JobsDB.unlock" title="Permalink to this definition">#</a></dt>
<dd><p>unlocks the sqlite database</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="expyre.jobsdb.JobsDB.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/jobsdb.html#JobsDB.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.jobsdb.JobsDB.update" title="Permalink to this definition">#</a></dt>
<dd><p>Update some field of job</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>str</em>) – unique id of job to update</p></li>
<li><p><strong>from_dir</strong> (<em>str</em>) – field(s) to update</p></li>
<li><p><strong>status</strong> (<em>str</em>) – field(s) to update</p></li>
<li><p><strong>system</strong> (<em>str</em>) – field(s) to update</p></li>
<li><p><strong>remote_id</strong> (<em>str</em>) – field(s) to update</p></li>
<li><p><strong>remote_status</strong> (<em>str</em>) – field(s) to update</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="expyre-resources-module">
<h2>expyre.resources module<a class="headerlink" href="#expyre-resources-module" title="Permalink to this heading">#</a></h2>
</div>
<div class="section" id="module-expyre.subprocess">
<span id="expyre-subprocess-module"></span><h2>expyre.subprocess module<a class="headerlink" href="#module-expyre.subprocess" title="Permalink to this heading">#</a></h2>
<p>Functions dealing with running subprocesses, optionally on remote machines, handling
quoting/shell escping, encoding/decoding, environment, and making sure that optional
arguments needed for things like kerberized-ssh are set correctly.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="expyre.subprocess.FailedSubprocessWarning">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">expyre.subprocess.</span></span><span class="sig-name descname"><span class="pre">FailedSubprocessWarning</span></span><a class="reference internal" href="_modules/expyre/subprocess.html#FailedSubprocessWarning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.subprocess.FailedSubprocessWarning" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeWarning</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="expyre.subprocess.subprocess_copy">
<span class="sig-prename descclassname"><span class="pre">expyre.subprocess.</span></span><span class="sig-name descname"><span class="pre">subprocess_copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_LOCAL_'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_LOCAL_'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcp_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-a'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcp_cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rsync'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remsh_cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remsh_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-e'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dry_run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/subprocess.html#subprocess_copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.subprocess.subprocess_copy" title="Permalink to this definition">#</a></dt>
<dd><p>Run a remote copy (e.g. rsync) in a subprocess, optionally to/from remote machine.  Exactly one
machine has to be specified, and relative paths on that machine are relative to its home dir, like
rsync.  If the specified machine is None the copy is local, but relative paths are still relative to
home dir.</p>
<p>Raises RuntimeError for non-zero return status.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>from_files</strong> (<em>str</em><em>, </em><em>Path</em><em>, </em><em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>list</em><em>(</em><em>Path</em><em>)</em>) – one or more files/directories to copy from (not including <a class="reference external" href="mailto:'user&#37;&#52;&#48;host">‘user<span>&#64;</span>host</a>:’ part)</p></li>
<li><p><strong>to_file</strong> (<em>str</em><em>, </em><em>Path</em>) – _one_ file/directory to copy to (not including <a class="reference external" href="mailto:'user&#37;&#52;&#48;host">‘user<span>&#64;</span>host</a>:’ part)</p></li>
<li><p><strong>from_host</strong> (<em>str</em><em>, </em><em>optional</em>) – [username&#64;]host.domain to copy from (no “:”), mutually exclusive with to_host, one is required.
If None, use a local dir, but make relative paths relative to $HOME instead of to $PWD (like rsync with a host)</p></li>
<li><p><strong>to_host</strong> (<em>str</em><em>, </em><em>optional</em>) – [username&#64;]host.domain to copy to (no “:”), mutually exclusive with from_host, one is required.
If None, use a local dir, but make relative paths relative to $HOME instead of to $PWD (like rsync with a host)</p></li>
<li><p><strong>rcp_args</strong> (<em>str</em><em>, </em><em>default '-a'</em>) – non-filename arguments to remote copy command</p></li>
<li><p><strong>rcp_cmd</strong> (<em>str</em><em>, </em><em>default 'rsync'</em>) – command to do copy</p></li>
<li><p><strong>remsh_cmd</strong> (<em>str</em><em>, </em><em>default EXPYRE_RSH env var</em><em> or </em><em>ssh</em>) – arguments to set shell command for rcp_cmd to use</p></li>
<li><p><strong>retry</strong> (<em>optional</em>) – passed as retry argument to subprocess_run</p></li>
<li><p><strong>remsh_flags</strong> (<em>str</em><em>, </em><em>default '-e'</em>) – flag to prefix to remsh_cmd when calling rcp_cmd</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>default False</em>) – verbose output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="expyre.subprocess.subprocess_run">
<span class="sig-prename descclassname"><span class="pre">expyre.subprocess.</span></span><span class="sig-name descname"><span class="pre">subprocess_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bash</span> <span class="pre">-lc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remsh_cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_HOME_'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dry_run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/subprocess.html#subprocess_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.subprocess.subprocess_run" title="Permalink to this definition">#</a></dt>
<dd><p>run a subprocess, optionally via ssh on a remote machine.  Raises RuntimeError for non-zero
return status.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<em>str</em>) – [username]&#64;machine.domain, or None for a locally run process</p></li>
<li><p><strong>args</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – arguments to run, starting with command and followed by its command line args</p></li>
<li><p><strong>script</strong> (<em>str</em><em>, </em><em>default None</em>) – text to write to process’s standard input</p></li>
<li><p><strong>shell</strong> (<em>str</em><em>, </em><em>default 'bash -lc'</em>) – shell to use, including any flags necessary for it to interpret the next argument
as the commands to run (-c for bash)</p></li>
<li><p><strong>remsh_command</strong> (<em>str</em><em> | </em><em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>default env var EXPYRE_RSH</em><em> or </em><em>'ssh'</em>) – command to start on remote host, usually ssh</p></li>
<li><p><strong>retry</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>default env var EXPYRE_RETRY.split</em><em>(</em><em>) or </em><em>(</em><em>2</em><em>, </em><em>5</em><em>)</em>) – number of times to retry and number of seconds to wait between each trial</p></li>
<li><p><strong>in_dir</strong> (<em>str</em><em>, </em><em>default _HOME_</em>) – directory to cd into before running args, _HOME_ for home dir, _PWD_ for python current working directory (only for host == None)</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>default False</em>) – verbose output</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>stdout, stderr</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>output and error of subprocess, as strings (bytes.decode())</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-expyre.system">
<span id="expyre-system-module"></span><h2>expyre.system module<a class="headerlink" href="#module-expyre.system" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="expyre.system.System">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">expyre.system.</span></span><span class="sig-name descname"><span class="pre">System</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partitions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_default_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commands</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rundir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rundir_extra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remsh_cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/system.html#System"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.system.System" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interface for a System that can run jobs remotely, including staging files from
a local directory to a (config-specified) remote directory, submitting it with the correct
kind of Scheduler, and staging back the results from the remote directory.  Does not report
any other status directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<em>str</em>) – [username&#64;]machine.fqdn</p></li>
<li><p><strong>partitions</strong> (<em>dict</em>) – dictionary describing partitions types</p></li>
<li><p><strong>scheduler</strong> (<em>str</em><em>, </em><a class="reference internal" href="expyre.schedulers.html#expyre.schedulers.base.Scheduler" title="expyre.schedulers.base.Scheduler"><em>Scheduler</em></a>) – type of scheduler</p></li>
<li><p><strong>header</strong> (<em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>optional</em>) – list of batch system header to use in every job, typically for system-specific things
like selecting nodes</p></li>
<li><p><strong>no_default_header</strong> (<em>bool</em><em>, </em><em>default False</em>) – do not automatically add default header fields, namely job name, partition/queue,
max runtime, and stdout/stderr files</p></li>
<li><p><strong>commands</strong> (<em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>optional</em>) – list of commands to run at start of every job on machine</p></li>
<li><p><strong>rundir</strong> (<em>str / None</em><em>, </em><em>default 'run_expyre' if host is not None</em><em>, </em><em>else None</em>) – path on remote machine to run in.  If absolute, used as is, and if relative, relative
to (remote) home directory. If host is None, rundir is None means run directly
in stage directory</p></li>
<li><p><strong>remsh_cmd</strong> (<em>str</em><em>, </em><em>default EXPYRE_RSH</em><em> or </em><em>'ssh'</em>) – remote shell command to use with this system</p></li>
<li><p><strong>rundir_extra</strong> (<em>str</em><em>, </em><em>default None</em>) – extra string to add to remote_rundir, e.g. per-project part of path</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="expyre.system.System.clean_rundir">
<span class="sig-name descname"><span class="pre">clean_rundir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dry_run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/system.html#System.clean_rundir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.system.System.clean_rundir" title="Permalink to this definition">#</a></dt>
<dd><p>clean a remote stage directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage_dir</strong> (<em>str</em><em> | </em><em>Path</em>) – local stage directory path</p></li>
<li><p><strong>files</strong> (<em>list</em><em>(</em><em>str</em><em>) or </em><em>None</em>) – list of files to replaced with ‘CLEANED’, or wipe entire directory if None</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>default False</em>) – verbose output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="expyre.system.System.get_remotes">
<span class="sig-name descname"><span class="pre">get_remotes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdir_glob</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/system.html#System.get_remotes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.system.System.get_remotes" title="Permalink to this definition">#</a></dt>
<dd><p>get data from directories of remotely running jobs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>subdir_glob</strong> (<em>str</em><em>, </em><em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>default None</em>) – only get subdirectories that much one or more globs</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="expyre.system.System.initialize_remote_rundir">
<span class="sig-name descname"><span class="pre">initialize_remote_rundir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/system.html#System.initialize_remote_rundir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.system.System.initialize_remote_rundir" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="expyre.system.System.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bash</span> <span class="pre">-lc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_HOME_'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dry_run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/system.html#System.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.system.System.run" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="expyre.system.System.submit">
<span class="sig-name descname"><span class="pre">submit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resources</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commands</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_extra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exact_fit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial_node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/system.html#System.submit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.system.System.submit" title="Permalink to this definition">#</a></dt>
<dd><p>Submit a job on a remote machine, including staging out files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>str</em>) – unique id for job</p></li>
<li><p><strong>stage_dir</strong> (<em>str</em><em>, </em><em>Path</em>) – directory in which files have been prepared</p></li>
<li><p><strong>resources</strong> (<em>Resources</em>) – resources to use for job</p></li>
<li><p><strong>commands</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – commands to run in job script after per-machine commands</p></li>
<li><p><strong>header_extra</strong> (<em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>optional</em>) – list of lines to append to system header for this job</p></li>
<li><p><strong>exact_fit</strong> (<em>bool</em><em>, </em><em>default True</em>) – only match partitions that have nodes with exact match to number of cores</p></li>
<li><p><strong>partial_node</strong> (<em>bool</em><em>, </em><em>default False</em>) – allow jobs that take less than an entire node</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>id of job on remote machine</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-expyre.units">
<span id="expyre-units-module"></span><h2>expyre.units module<a class="headerlink" href="#module-expyre.units" title="Permalink to this heading">#</a></h2>
<p>Units-related utilities for converting between various time and memory formats</p>
<dl class="py function">
<dt class="sig sig-object py" id="expyre.units.mem_to_kB">
<span class="sig-prename descclassname"><span class="pre">expyre.units.</span></span><span class="sig-name descname"><span class="pre">mem_to_kB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mem</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/units.html#mem_to_kB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.units.mem_to_kB" title="Permalink to this definition">#</a></dt>
<dd><p>convert memory to kB</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mem</strong> (<em>str</em><em> | </em><em>int</em>) – int: mem in kB
str format “float[kKmMgGtT]b?”: memory in KB, MB, GB, TB, float cannot have exponent</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int memory in kB</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="expyre.units.time_to_HMS">
<span class="sig-prename descclassname"><span class="pre">expyre.units.</span></span><span class="sig-name descname"><span class="pre">time_to_HMS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/units.html#time_to_HMS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.units.time_to_HMS" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="expyre.units.time_to_sec">
<span class="sig-prename descclassname"><span class="pre">expyre.units.</span></span><span class="sig-name descname"><span class="pre">time_to_sec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/units.html#time_to_sec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.units.time_to_sec" title="Permalink to this definition">#</a></dt>
<dd><p>convert time to seconds</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t</strong> (<em>str</em><em>, </em><em>int</em>) – <ul class="simple">
<li><p>int: time in sec</p></li>
<li><p>str: format “float[sSmMhHdD]” number of seconds, minutes, hours, days, or “days(int)-HMS”         or “HMS”, with HMS being (HHHH:MM:SS | MM:SS | SS)</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int time in seconds</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-expyre.util">
<span id="expyre-util-module"></span><h2>expyre.util module<a class="headerlink" href="#module-expyre.util" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="expyre.util.remsh_cmd">
<span class="sig-prename descclassname"><span class="pre">expyre.util.</span></span><span class="sig-name descname"><span class="pre">remsh_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expyre/util.html#remsh_cmd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expyre.util.remsh_cmd" title="Permalink to this definition">#</a></dt>
<dd><p>Get remote command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cmd</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cmd</strong> – Command set as <code class="docutils literal notranslate"><span class="pre">EXPYRE_RSH</span></code> environment variable, <code class="docutils literal notranslate"><span class="pre">&quot;ssh&quot;</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-contents">
<h2>Module contents<a class="headerlink" href="#module-contents" title="Permalink to this heading">#</a></h2>
</div>
</div>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="unit_testing.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Unit testing</p>
      </div>
    </a>
    <a class="right-next"
       href="expyre.cli.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">expyre.cli package</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#subpackages">Subpackages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre-config-module">expyre.config module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre-func-module">expyre.func module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-expyre.jobsdb">expyre.jobsdb module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB"><code class="docutils literal notranslate"><span class="pre">JobsDB</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.add"><code class="docutils literal notranslate"><span class="pre">JobsDB.add()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.jobs"><code class="docutils literal notranslate"><span class="pre">JobsDB.jobs()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.possible_status"><code class="docutils literal notranslate"><span class="pre">JobsDB.possible_status</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.remove"><code class="docutils literal notranslate"><span class="pre">JobsDB.remove()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.status_group"><code class="docutils literal notranslate"><span class="pre">JobsDB.status_group</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.unlock"><code class="docutils literal notranslate"><span class="pre">JobsDB.unlock()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.jobsdb.JobsDB.update"><code class="docutils literal notranslate"><span class="pre">JobsDB.update()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre-resources-module">expyre.resources module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-expyre.subprocess">expyre.subprocess module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.subprocess.FailedSubprocessWarning"><code class="docutils literal notranslate"><span class="pre">FailedSubprocessWarning</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.subprocess.subprocess_copy"><code class="docutils literal notranslate"><span class="pre">subprocess_copy()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.subprocess.subprocess_run"><code class="docutils literal notranslate"><span class="pre">subprocess_run()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-expyre.system">expyre.system module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System"><code class="docutils literal notranslate"><span class="pre">System</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System.clean_rundir"><code class="docutils literal notranslate"><span class="pre">System.clean_rundir()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System.get_remotes"><code class="docutils literal notranslate"><span class="pre">System.get_remotes()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System.initialize_remote_rundir"><code class="docutils literal notranslate"><span class="pre">System.initialize_remote_rundir()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System.run"><code class="docutils literal notranslate"><span class="pre">System.run()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.system.System.submit"><code class="docutils literal notranslate"><span class="pre">System.submit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-expyre.units">expyre.units module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.units.mem_to_kB"><code class="docutils literal notranslate"><span class="pre">mem_to_kB()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.units.time_to_HMS"><code class="docutils literal notranslate"><span class="pre">time_to_HMS()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.units.time_to_sec"><code class="docutils literal notranslate"><span class="pre">time_to_sec()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-expyre.util">expyre.util module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expyre.util.remsh_cmd"><code class="docutils literal notranslate"><span class="pre">remsh_cmd()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-contents">Module contents</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>